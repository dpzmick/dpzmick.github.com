<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-11-12 Tue 23:59 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Org Configuration</title>
<meta name="generator" content="Org mode" />
<script type='text/javascript' src='/static/scripts.js'></script><link rel='stylesheet' type='text/css' href='/static/base.css' /><link rel='stylesheet' type='text/css' id='theme-css' href='/static/base16-tomorrow-night.css' />
</head>
<body>
<div id="preamble" class="status">
<div id='#preamble'><h1><a href='./'>dpzmick.com</a></h1></div><div id='bulb'><a href='#/' onclick='switchModes()'><img class='light-invert' src='static/icons/bulb.png' /></a></div>
</div>
<div id="content">
<h1 class="title">Org Configuration</h1>
<p>
The org configuration used to generate this site.
Started from <a href="https://explog.in/config.org.html">explog</a> and tried to customize things a bit.
</p>

<div id="outline-container-org34ad850" class="outline-2">
<h2 id="org34ad850">Code</h2>
<div class="outline-text-2" id="text-org34ad850">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><code>(<span class="org-keyword">require</span> '<span class="org-constant">ox-publish</span>)</code>
<code></code>
<code><span class="org-comment-delimiter">;; </span><span class="org-comment">Don't do much with the theme. We'll generate the entire theme using</span></code>
<code><span class="org-comment-delimiter">;; </span><span class="org-comment">css from our emacs color scheme. This tells htmlize to use css</span></code>
<code><span class="org-comment-delimiter">;; </span><span class="org-comment">classes to annotate the stuff it would have generated colors for.</span></code>
<code>(<span class="org-keyword">setq</span> org-html-htmlize-output-type 'css)</code>
<code>(<span class="org-keyword">setq</span> org-export-with-sub-superscripts nil)</code>
<code></code>
<code>(<span class="org-keyword">defun</span> <span class="org-function-name">create-preamble</span> (options)</code>
<code>  (concat <span class="org-string">"&lt;div id='#preamble'&gt;&lt;h1&gt;&lt;a href='./'&gt;dpzmick.com&lt;/a&gt;&lt;/h1&gt;&lt;/div&gt;"</span></code>
<code>          <span class="org-string">"&lt;div id='bulb'&gt;&lt;a href='#/' onclick='switchModes()'&gt;&lt;img class='light-invert' src='static/icons/bulb.png' /&gt;&lt;/a&gt;&lt;/div&gt;"</span>))</code>
<code></code>
<code>(<span class="org-keyword">defun</span> <span class="org-function-name">create-postamble</span> (options)</code>
<code>  (concat</code>
<code>   <span class="org-string">"&lt;div id='#postamble'&gt;&lt;a href='/'&gt;home&lt;/a&gt;   "</span></code>
<code>   <span class="org-string">"&lt;a href=https://gitlab.com/dpzmick/dpzmick.com/blob/master/"</span></code>
<code>   (file-relative-name</code>
<code>    (plist-get options <span class="org-builtin">:input-file</span>)</code>
<code>    (file-name-directory fname))</code>
<code>   <span class="org-string">"&gt;view-source&lt;/a&gt;&lt;/div&gt;"</span>))</code>
<code></code>
<code>(<span class="org-keyword">setq</span> header</code>
<code>      (concat</code>
<code>       <span class="org-string">"&lt;script type='text/javascript' src='/static/scripts.js'&gt;&lt;/script&gt;"</span></code>
<code>       <span class="org-string">"&lt;link rel='stylesheet' type='text/css' href='/static/base.css' /&gt;"</span></code>
<code>       <span class="org-string">"&lt;link rel='stylesheet' type='text/css' id='theme-css' href='/static/base16-tomorrow-night.css' /&gt;"</span>))</code>
<code></code>
<code>(<span class="org-keyword">setq</span> org-publish-project-alist</code>
<code>        `(</code>
<code>        (<span class="org-string">"dpzmick-notes"</span></code>
<code>            <span class="org-builtin">:base-directory</span> ,(file-name-directory fname)</code>
<code>            <span class="org-builtin">:publishing-directory</span> ,(concat (file-name-directory fname) <span class="org-string">"_site"</span>)</code>
<code>            <span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span></code>
<code>            <span class="org-builtin">:recursive</span> t</code>
<code>            <span class="org-builtin">:publishing-function</span> org-html-publish-to-html</code>
<code>            <span class="org-builtin">:with-author</span> nil</code>
<code>            <span class="org-builtin">:section-numbers</span> nil</code>
<code>            <span class="org-builtin">:with-toc</span> nil</code>
<code>            <span class="org-builtin">:html-validation-link</span> nil</code>
<code>            <span class="org-builtin">:html-head-include-scripts</span> nil</code>
<code>            <span class="org-builtin">:html-head-include-default-style</span> nil</code>
<code>            <span class="org-builtin">:headline-levels</span> 4</code>
<code>            <span class="org-comment-delimiter">;; </span><span class="org-comment">add some custom HTML</span></code>
<code>            <span class="org-builtin">:html-head-extra</span> ,header</code>
<code>            <span class="org-builtin">:html-preamble</span>  ,'create-preamble</code>
<code>            <span class="org-builtin">:html-postamble</span> ,'create-postamble)</code>
<code></code>
<code>        (<span class="org-string">"dpzmick-static"</span></code>
<code>         <span class="org-builtin">:base-directory</span> <span class="org-string">"/home/dpzmick/programming/new-website/static"</span></code>
<code>         <span class="org-builtin">:publishing-directory</span> <span class="org-string">"/home/dpzmick/programming/new-website/_site/static"</span></code>
<code>         <span class="org-builtin">:base-extension</span> any</code>
<code>         <span class="org-builtin">:recursive</span> t</code>
<code>         <span class="org-builtin">:publishing-function</span> org-publish-attachment)</code>
<code></code>
<code>        (<span class="org-string">"dpzmick"</span> <span class="org-builtin">:components</span> (<span class="org-string">"dpzmick-notes"</span></code>
<code>                                <span class="org-string">"dpzmick-static"</span>))))</code>
<code></code>
<code></code>
<code>(org-publish <span class="org-string">"dpzmick"</span> t)</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd8b264" class="outline-2">
<h2 id="orgbd8b264">FIXME</h2>
<div class="outline-text-2" id="text-orgbd8b264">
</div>
<div id="outline-container-orgf77cd0f" class="outline-3">
<h3 id="orgf77cd0f"><span class="todo TODO">TODO</span> autogenerate the CSS for the base16 face, instead of forcing it</h3>
<div class="outline-text-3" id="text-orgf77cd0f">
</div>
<div id="outline-container-org7f7d0ee" class="outline-4">
<h4 id="org7f7d0ee"><span class="todo TODO">TODO</span> minify the source for everything</h4>
</div>
</div>
<div id="outline-container-orgc072bf6" class="outline-3">
<h3 id="orgc072bf6"><span class="todo TODO">TODO</span> static stuff and images</h3>
</div>
<div id="outline-container-org2ac143e" class="outline-3">
<h3 id="org2ac143e"><span class="todo TODO">TODO</span> fix underscores</h3>
</div>
<div id="outline-container-org6c3699c" class="outline-3">
<h3 id="org6c3699c"><span class="todo TODO">TODO</span> RSS feed</h3>
</div>
<div id="outline-container-org60df9d9" class="outline-3">
<h3 id="org60df9d9"><span class="todo TODO">TODO</span> view source links</h3>
</div>
<div id="outline-container-org6846c6f" class="outline-3">
<h3 id="org6846c6f"><span class="todo TODO">TODO</span> footnotes?</h3>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id='#postamble'><a href='/'>home</a>   <a href=https://gitlab.com/dpzmick/dpzmick.com/blob/master/config.org>view-source</a></div>
</div>
</body>
</html>
